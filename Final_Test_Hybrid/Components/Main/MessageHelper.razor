@using Final_Test_Hybrid.Services.Main
@inject MessageService MessageService
@implements IDisposable

<div class="message-helper-container">
    <RadzenTextArea Value="@MessageService.CurrentMessage"
                    Rows="1"
                    ReadOnly="true" />
</div>

@code {
    private Action? _onChangeHandler;

    protected override void OnInitialized()
    {
        _onChangeHandler = () => InvokeAsync(StateHasChanged);
        MessageService.OnChange += _onChangeHandler;
    }

    public void Dispose()
    {
        if (_onChangeHandler != null)
        {
            MessageService.OnChange -= _onChangeHandler;
        }
    }
}
