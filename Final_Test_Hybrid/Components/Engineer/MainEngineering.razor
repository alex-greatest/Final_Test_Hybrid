@inject DialogService DialogService

<style>
    .engineering-container {
        display: grid;
        grid-template-columns: 350px 1fr;
        gap: 40px;
        padding: 40px;
        height: 100%;
        align-content: flex-start;
        background-color: #d4d4d4;
    }

    .button-stack {
        display: flex;
        flex-direction: column;
        gap: 32px;
    }

    /* Target Radzen Button directly to override default styles */
    .rz-button.eng-btn {
        width: 100%;
        height: 55px !important;
        /* Industrial Silver Gradient - Darker for more contrast */
        background-image: linear-gradient(to bottom, #e6e6e6 0%, #cccccc 45%, #999999 50%, #cccccc 100%) !important;
        background-color: transparent !important;
        border: 1px solid #666 !important;
        border-radius: 6px !important;
        color: #000 !important;
        font-weight: bold !important;
        font-size: 14px !important;
        text-transform: none !important;
        padding: 0 10px !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.5) !important;
        display: flex !important;
        align-items: center;
        justify-content: flex-start !important;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .rz-button.eng-btn:hover {
        background-image: linear-gradient(to bottom, #f2f2f2 0%, #dddddd 45%, #aaaaaa 50%, #dddddd 100%) !important;
    }

    .rz-button.eng-btn:active {
        background-image: none !important;
        background-color: #bbbbbb !important;
        box-shadow: inset 0 2px 5px rgba(0,0,0,0.3) !important;
        transform: translateY(1px);
    }

    /* Orange Button Override */
    .rz-button.eng-btn.active-orange {
        background-image: linear-gradient(to bottom, #fff8e1 0%, #ffe082 45%, #ffca28 50%, #ffe082 100%) !important;
        border: 1px solid #f57f17 !important;
    }

    .rz-button.eng-btn.active-orange:hover {
        background-image: linear-gradient(to bottom, #fffde7 0%, #ffe57f 45%, #ffd54f 50%, #ffe57f 100%) !important;
    }

    /* Icon styling - Targeting inner elements of Radzen Button */
    .eng-btn .rz-button-icon-left {
        font-size: 28px !important;
        margin-right: 15px !important;
        margin-left: 5px;
        color: #444;
        text-shadow: 0 1px 0 rgba(255,255,255,0.5);
    }

    .eng-btn .rz-button-text {
        flex: 1;
        text-align: center;
        font-size: 15px;
        color: #222;
        text-shadow: 0 1px 0 rgba(255,255,255,0.5);
    }

    /* Specific Icon Colors */
    .btn-icon-red .rz-button-icon-left {
        color: #c62828 !important;
    }

    .btn-icon-green .rz-button-icon-left {
        color: #2e7d32 !important;
    }

    .btn-icon-green-bright .rz-button-icon-left {
        color: #00c853 !important;
    }

    .language-selector {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        margin-top: 120px;
    }

    .language-label {
        font-weight: bold;
        font-size: 14px;
        color: #333;
    }

    /* --- Test Sequence Editor Dialog Styles --- */
    /* Must be global (here in MainEngineering) because Dialog renders at root level */
    .test-sequence-editor-dialog .rz-dialog-titlebar {
        padding: 0 !important;
        min-height: auto !important;
        height: 46px !important; /* Increased height again */
        background-color: #f0f0f0 !important;
        border-bottom: 1px solid #ccc !important;
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
    }

    .test-sequence-editor-dialog .rz-dialog-title {
        font-size: 26px !important; /* Increased size */
        font-weight: bold !important;
        margin-left: 15px !important;
        line-height: 46px !important; /* Match header height */
        color: #000000;
    }

    .test-sequence-editor-dialog .rz-dialog-titlebar-close {
        width: 66px !important; /* Wider */
        height: 46px !important; /* Match header height */
        margin: 0 !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background-color: transparent !important;
        opacity: 1 !important;
    }

    .test-sequence-editor-dialog .rz-dialog-titlebar-close:hover {
        background-color: #e81123 !important;
        color: white !important;
    }

    /* Force the icon to be huge using transform since font-size might be constrained */
    .test-sequence-editor-dialog .rz-dialog-titlebar-close .rzi {
        font-size: 20px !important; /* Increased base size */
        transform: scale(1.4) !important; /* Scale */
        font-weight: 900 !important;
        display: block !important;
    }
</style>

<div class="engineering-container">
    <div class="button-stack">
        <!-- Hand Program: Hammer icon (Reddish) -->
        <RadzenButton Text="Hand Program" Icon="build" Class="eng-btn btn-icon-red" />
        
        <!-- IO Editor: Chip/Board icon (Greenish) -->
        <RadzenButton Text="IO Editor" Icon="memory" Class="eng-btn btn-icon-green" />
        
        <!-- AI & RTD Correction: Gauge icon -->
        <RadzenButton Text="AI & RTD Correction" Icon="speed" Class="eng-btn" />
        
        <!-- Disable Test Log: Checkmark icon (Green), Orange styling -->
        <RadzenButton Text="Disable Test Log" Icon="check_circle" Class="eng-btn active-orange btn-icon-green-bright" />
        
        <!-- Test Log Viewer: Pen/Paper icon -->
        <RadzenButton Text="Test Log Viewer" Icon="edit_note" Class="eng-btn" />
        
        <!-- Test Sequence Editor: List/Code icon -->
        <RadzenButton Text="Test Sequence Editor" Icon="playlist_add_check" Class="eng-btn" Click="@OpenTestSequenceEditor" />
        
        <!-- View Gas & DHW Charts: Chart icon -->
        <RadzenButton Text="View Gas & DHW Charts" Icon="show_chart" Class="eng-btn" />
    </div>

    <div class="language-selector">
        <span class="language-label">Language</span>
        <RadzenDropDown Data="@languages" @bind-Value="selectedLanguage" Style="width: 250px;" />
    </div>
</div>

@code {
    async Task OpenTestSequenceEditor()
    {
        await DialogService.OpenAsync<TestSequenceEditor>("Test Sequence Editor",
               new Dictionary<string, object>(),
               new DialogOptions() 
               { 
                   Width = "95vw", 
                   Height = "95vh", 
                   Resizable = true, 
                   Draggable = true,
                   CssClass = "test-sequence-editor-dialog",
                   CloseDialogOnOverlayClick = true
               });
    }

    string selectedLanguage = "French (fr)";
    List<string> languages = new List<string> 
    { 
        "English (en)", 
        "French (fr)", 
        "German (de)",
        "Spanish (es)",
        "Italian (it)",
        "Russian (ru)"
    };
}
